<script type="text/javascript">
	const audioButtonContent = '<%- params.promptButtonContent || '<i class="fas fa-volume-up"></i>' %>';
	getPromptPromise = () => {
		return new Promise((resolve) => {
			const playPrompt = (callback) => {
				const audio = new Audio('/audio/<%- fact.audio %>');
				audio.addEventListener("ended", function(){
					callback();
				});
				audio.play();
			};

			const playVideo = () => {
				$('#play-button').off('click');
				$('#play-button').attr('disabled', true);

				playPrompt(() => {
					resolve({ info: 'audio prompt complete' });
				});
			};

			$('#play-button').on('click', () => {
				playVideo();
			});

			onNextContinueKeypress(audioButtonContent, playVideo);
		});
	};
</script>